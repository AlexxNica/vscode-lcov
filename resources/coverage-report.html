<html>
<head>
<title></title>
<style>
    body {
        overflow: scroll;
        background-color: #fefdf8;
        color: #354A57;
        background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkZTY4NWM3Ni0wNDhkLTQyOGQtOTQ2OC1lYjk3YjA0OWY2ODMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTA2QjI1OUIyQzE5MTFFNEJBNDFGREM3RTg2M0ExMEEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTA2QjI1OUEyQzE5MTFFNEJBNDFGREM3RTg2M0ExMEEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3YmMyZmYzMS00MmU2LTRjYWMtYjcyNi0yOTQxMmFmNTAwNzkiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo0ODc0YjVhZi03NDZmLTExNzctYTcz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'); }
    .high { background-color: rgba(208,233,153,0.2); }
    .medium { background-color: rgba(255, 255, 0, 0.2); }
    .low { background-color: rgba(216,134,123,0.2); }
    
    td.bar {
        min-width: 120px;
    }
    .bar-full, .bar-empty {
        display:inline-block;
        border: 1px solid #444;
        height: 12px;
    }
    .bar-full {
        background-color: gray;
        border-right: 0;
    }

    .bar-empty {
        background-color: white;
        border-left: 0;
    }

    .button {
        font-size: 70%;
        vertical-align: center;
        display: inline-block;
        cursor: pointer;
    }

    td.percentage {
        text-align: center;
    }
</style>
</head>
<body>

<div id="hero"></div>
<div>Depth:<select id="depth">
    <option>1</option>
    <option>2</option>
    <option>3</option>
    <option>4</option>
    <option>5</option>
    <option>6</option>
    <option>7</option>
    <option>8</option>
    <option>9</option>
    <option>10</option>
</select>
Filter:<input type="text" id="filter" />
</div>
<div id="output"></div>
<div id="tmpoutput"></div>

<script>
var rawData = /*$data*/;
var data = null;

(function() {
    var depth = document.getElementById('depth');
    depth.value = 10;

    var filter = document.getElementById('filter');
    filter.value = '';

    var update = function() {
        var depthValue = depth.value;
        var sep = rawData[0].absolutePath.indexOf('\\') > 0 ? '\\' : '/';
        
        var map = {};
        rawData.forEach(function(entry) {
            var segments = entry.path.split(sep);
            segments = segments.slice(0, depthValue);

            var path = segments.join(sep);
            map[path] = map[path] || {
                path: path,
                absolutePath: entry.absolutePath,
                lines: { found: 0, hit: 0},
                branches: { found: 0, hit: 0}
            };
            map[path].lines.found += entry.lines.found;
            map[path].lines.hit += entry.lines.hit;
            map[path].branches.found += entry.branches.found;
            map[path].branches.hit += entry.branches.hit;
        });
        data = [];
        Object.keys(map).forEach(function(key) {
            var entry = map[key];
            data.push(entry);
        });
    };
    depth.onchange = function() {
        update();
        render();
    };
    update();
})();

(function() {
    var linesFound = 0, linesHit = 0, branchesFound = 0, branchesHit = 0;
    data.forEach(function(entry) {
        linesFound += entry.lines.found;
        linesHit += entry.lines.hit;
        branchesFound += entry.branches.found;
        branchesHit += entry.branches.hit;
    });
    var globalLine = computeCoverage(linesHit, linesFound);
    var globalBranch = computeCoverage(branchesHit, branchesFound);

    var html = `<h1 class="${globalLine.type}">Overall coverage: ${globalLine.percentage}%</h1>`;
    document.getElementById('hero').innerHTML = html;
})();

function computeCoverage(hit, found) {
    var value = (found ? (hit / found) : 1);
    var type = (value >= 0.8 ? 'high' : (value >= 0.5 ? 'medium' : 'low'));
    var percentage = Math.round(value * 100);
    return {
        value: value,
        type: type,
        percentage: percentage
    };
}

function render() {
    var html = data.map(function(entry) {
        var line = computeCoverage(entry.lines.hit, entry.lines.found);
        var branch = computeCoverage(entry.branches.hit, entry.branches.found);
        var r = '';
        r += `<tr>`;

        r += `<td class="${line.type}">`;
        r += `<a href="${entry.absolutePath}">${entry.path}</a>`;
        r += `</td>`;

        var barFullWidth = line.percentage;
        var barEmptyWidth = 100 - barFullWidth;
        r += `<td class="${line.type} bar">`;
        r += `<span class="bar-full" style="width:${barFullWidth}px"></span>`;
        r += `<span class="bar-empty" style="width:${barEmptyWidth}px"></span>`;
        r += `</td>`;

        r += `<td class="${line.type} percentage">`;
        r += `${line.percentage}%`;
        r += `</td>`;
        
        r += `<td class="${branch.type} percentage">`;
        r += `${branch.percentage}%`;
        r += `</td>`;

        r += '</tr>';

        return r;
    }).join('');

    var finalHTML = `<table>
    <thead>
        <th>File&nbsp;&nbsp;<span class="button" onclick="javascript:resort('file','asc');">&#x25B2;</span><span class="button" onclick="javascript:resort('file','desc');">&#x25BC;</span></th>
        <th></th>
        <th>Lines&nbsp;&nbsp;<span class="button" onclick="javascript:resort('lines','asc');">&#x25B2;</span><span class="button" onclick="javascript:resort('lines','desc');">&#x25BC;</span></th>
        <th>Branches&nbsp;&nbsp;<span class="button" onclick="javascript:resort('branches','asc');">&#x25B2;</span><span class="button" onclick="javascript:resort('branches','desc');">&#x25BC;</span></th>
    </thead>
    <tbody>${html}</tbody></table>`;
    

    document.getElementById('output').innerHTML = finalHTML;
}

var allSortFunc = {
    'file': function(a,b) {
        if (a.path < b.path) {
            return -1;
        }
        return 1;
    },
    'lines': function(a,b) {
        var aCov = computeCoverage(a.lines.hit, a.lines.found);
        var bCov = computeCoverage(b.lines.hit, b.lines.found);
        return aCov.percentage - bCov.percentage;
    },
    'branches': function(a,b) {
        var aCov = computeCoverage(a.branches.hit, a.branches.found);
        var bCov = computeCoverage(b.branches.hit, b.branches.found);
        return aCov.percentage - bCov.percentage;
    }
}

function resort(key, dir) {
    var _sortFunc = allSortFunc[key];

    var sortFunc = _sortFunc;
    if (dir === 'desc') {
        sortFunc = function(a,b) {
            return -_sortFunc(a,b);
        }
    }

    data.sort(sortFunc);
    render();
}

resort('file', 'asc');

</script>

</body>
</html>